<% if user_signed_in? %>
  <%= turbo_stream_from "reminders-stream-#{current_user.id}" %>
  <div class="col">
    <%= turbo_frame_tag "notifications_div" %>
  </div>
  <div id="user-notifications" data-user-id=<%= current_user.id %>> Welcome <%= current_user.email %> </div>
  <%= button_to "Sign out", destroy_user_session_path, method: :delete %>
<% else %>
  <%= button_to "Sign in", new_user_session_path %>
<% end %>
<h1>Reminders</h1>
<%= link_to "New reminder", new_reminder_path,
  class: "btn btn-primary",
  data:{turbo_frame: "modal-frame"}
%>
<div id="reminders">
  <h2 >Today</h2>
  <ul id="today-reminders" >
    <% if @today_reminders.present? %>
      <% @today_reminders.each do |reminder| %>
        <%= render partial: "reminder", locals: {reminder: reminder} %>
      <% end %>
    <% end %>
  </ul>
  <h2 class="tomorrow-reminders"
>Tomorrow</h2>
  <ul id="tomorrow-reminders" >
    <% if @tomorrow_reminders.present? %>
      <% @tomorrow_reminders.each do |reminder| %>
        <%= render partial: "reminder" , locals: {reminder: reminder} %>
      <% end %>
    <% end %>
  </ul>
  <h2 >Upcoming</h2>
  <ul id="upcoming-reminders">
    <% if @upcoming_reminders.present? %>
      <% @upcoming_reminders.each do |reminder| %>
        <%= render partial: "reminder", locals: {reminder: reminder} %>
      <% end %>
    <% end %>
  </ul>
</div>
